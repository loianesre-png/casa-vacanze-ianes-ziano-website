---
/**
 * Trilocale Apartment Page
 * Dedicated page for La Famiglia apartment
 */
import Layout from '~/layouts/PageLayout.astro';
import ApartmentHero from '~/components/appartamenti/ApartmentHero.astro';
import PropertyOverview from '~/components/appartamenti/PropertyOverview.astro';
import RoomShowcase from '~/components/appartamenti/RoomShowcase.astro';
import PhotoGallery from '~/components/appartamenti/PhotoGallery.astro';
import ServicesGrid from '~/components/appartamenti/ServicesGrid.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import Benefits from '~/components/appartamenti/Benefits.astro';
import ApartmentCTA from '~/components/appartamenti/ApartmentCTA.astro';

import { getApartmentBySlug } from '~/data/apartments';

// Get apartment data
const apartment = getApartmentBySlug('trilocale');

if (!apartment) {
  return Astro.redirect('/404');
}

// SEO metadata
const metadata = {
  title: `${apartment.name} - ${apartment.subtitle} | Casa Negrano`,
  description: `${apartment.description.substring(0, 155)}...`,
  canonical: `https://casanegrano.it/appartamenti/trilocale`,
  openGraph: {
    title: apartment.name,
    description: apartment.subtitle,
    type: 'website',
    url: 'https://casanegrano.it/appartamenti/trilocale',
  },
};

// Testimonials for families and small groups
const testimonials = [
  {
    testimonial: `Molto pulito e di nuova qualità. Cucina ben attrezzata, c'è tutto! Materassi molto comodi. Tutto impeccabile! Proprietari molto gentili, sempre disponibili e che si sono fatti sentire da soli. Ci torneremmo subito! Siamo stati entusiasti. - Tradotto dal tedesco`,
    name: 'Sebastian',
  },
  {
    testimonial: `Appartamento grande e pulito. Tutto nuovo e ben organizzato. Confortevole`,
    name: 'Giuseppina',
  },
  {
    testimonial: `Struttura nuova e ben curata, proprietari deliziosi, ci torneremo sicuramente, consigliatissima!`,
    name: 'Alessandro',
  },
  {
    testimonial: `Stupenda esperienza. Il padrone di casa di una gentilezza e disponibilità eccezionali. Torneremo di sicuro!!!`,
    name: 'Giuseppe',
  },
  {
    testimonial: `Casa moderna con ascensore e parcheggio, dotata di tutto il necessario e anche di più! C'è addirittura un adattatore per caricare qualsiasi tipo di cellulare. Franco e la moglie sono molto disponibili. La doccia è enorme e il materasso è comodissimo. Consigliatissimo!`,
    name: 'Sara',
  },
];
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <ApartmentHero
    title={apartment.name}
    subtitle={apartment.subtitle}
    heroImage={apartment.heroImage}
    apartmentId={apartment.id}
  />

  <!-- Property Overview Section -->
  <PropertyOverview
    description={apartment.description}
    propertyImage={apartment.propertyImage}
    apartmentId={apartment.id}
    capacity={apartment.capacity}
    size={apartment.size}
    bedrooms={apartment.bedrooms}
    bathrooms={apartment.bathrooms}
  />

  <!-- Room-by-Room Showcase -->
  <RoomShowcase rooms={apartment.rooms} apartmentId={apartment.id} />

  <!-- Photo Gallery -->
  <PhotoGallery apartmentSlug="trilocale" apartmentName={apartment.name} />

  <!-- Services Grid -->
  <ServicesGrid />

  <!-- Testimonials Section -->
  <Testimonials
    id="testimonianze"
    title="Cosa dicono i nostri ospiti"
    subtitle="La soddisfazione dei nostri ospiti è la nostra priorità. Ecco cosa raccontano."
    testimonials={testimonials}
  />

  <!-- Benefits Section (Trentino Guest Card) -->
  <Benefits />

  <!-- Call to Action -->
  <ApartmentCTA apartmentName={apartment.name} />
</Layout>
