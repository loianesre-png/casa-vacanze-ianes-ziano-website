---
/**
 * Home Page
 * Main landing page showcasing all apartments
 *
 * Content is loaded from: src/content/dictionary/{locale}/homepage.yaml
 * Services data from: src/data/services.ts
 */
import Layout from '~/layouts/PageLayout.astro';
import HomeHero from '~/components/home/HomeHero.astro';
import ApartmentsOverview from '~/components/home/ApartmentsOverview.astro';
import Features3 from '~/components/widgets/Features3.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import { coreServices } from '~/data/services';
import { getHomepageContent } from '~/utils/content';
import { getSiteName } from '~/config';

import '@/styles/globals.css';

// Load content from dictionary
const homepage = await getHomepageContent();
const siteName = getSiteName();

const metadata = {
  title: `${siteName} - ${homepage.seo.title}`,
  description: homepage.seo.description,
};

// Placeholder testimonials for template
const testimonials = [
  {
    testimonial: 'Beautiful apartment with amazing views. The hosts were incredibly helpful and the location was perfect for exploring the area.',
    name: 'Guest Name',
  },
  {
    testimonial: 'Very clean and well-equipped. Everything we needed for a comfortable stay. Would definitely recommend!',
    name: 'Guest Name',
  },
  {
    testimonial: 'Excellent location and fantastic amenities. The property exceeded our expectations in every way.',
    name: 'Guest Name',
  },
  {
    testimonial: 'Perfect getaway spot! Modern, comfortable, and the hosts thought of every detail. We will be back!',
    name: 'Guest Name',
  },
  {
    testimonial: 'Outstanding hospitality and a wonderful property. Made our vacation truly memorable.',
    name: 'Guest Name',
  },
  {
    testimonial: 'Spacious, stylish, and spotlessly clean. The perfect base for our holiday adventures.',
    name: 'Guest Name',
  },
];

// Map core services to Features3 items format
const comfortItems = coreServices.map((service) => ({
  title: service.title,
  description: service.description,
  icon: service.icon,
}));
---

<Layout metadata={metadata}>
  <!-- Hero Section -->
  <HomeHero />

  <!-- About Section -->
  <section id={homepage.about.section_id} class="py-16 md:py-20 lg:py-28 bg-luxury-white">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="max-w-4xl mx-auto text-center">
        <h2 class="font-heading text-3xl md:text-4xl font-medium text-luxury-black mb-6">
          {homepage.about.title}
        </h2>
        <div class="w-20 h-0.5 bg-luxury-gold mx-auto mb-8"></div>
        <div class="prose prose-lg max-w-none text-luxury-graphite leading-relaxed">
          <p set:html={homepage.about.description} />
        </div>
      </div>
    </div>
  </section>

  <!-- Apartments Overview Section -->
  <ApartmentsOverview />

  <!-- Comfort/Services Section -->
  <Features3
    id={homepage.comfort.section_id}
    title={homepage.comfort.title}
    subtitle={homepage.comfort.subtitle}
    columns={3}
    defaultIcon="tabler:wifi"
    items={comfortItems}
  />

  <!-- Testimonials Section -->
  <Testimonials
    id={homepage.testimonials.section_id}
    title={homepage.testimonials.title}
    subtitle={homepage.testimonials.subtitle}
    testimonials={testimonials}
  />

  <!-- Call to Action Section -->
  <CallToAction
    id="contact"
    title={homepage.cta.title}
    subtitle={homepage.cta.description}
    actions={[
      {
        variant: 'primary',
        text: homepage.cta.button,
        href: '/contatti',
      },
    ]}
  />
</Layout>
